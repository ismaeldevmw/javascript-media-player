<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<ul>
		<li><button class="call-to-action">Aprender</button></li>
		<li><button class="call-to-action">Aprender Más</button></li>
		<li><button class="call-to-action">!Nunca pares de Aprender</button></li>
	</ul>
</body>
<script>
	// Establece `this` usando `call`
	function saludar() {
		console.log(`Hola. Soy ${this.name} ${this.apellido}`);		
	}

	const richard = {
		name: 'Richard',
		apellido: 'Kufman López'
	}

	saludar.call(richard)

	// Establece `this` usando `call` y pasar argumentos a la función
	function caminar(metros, direccion) {
		console.log(`${this.name} camina ${metros} metros hacia ${direccion}.`);		
	}

	caminar.call(richard, 400, "norte")

	// Establece `this` usando `apply` y pasar argumentos a la función
	const valores = [802, "noreste"]
	caminar.apply(richard, valores)

	/*
	Call -> recibelo los parámetros por comas y ejecuta la función inmediatamente
	Apply -> recibe los parametros en un array y ejecuta la función inmediatamente
	*/

	// Establece `this` en una nueva función usando `bind`
	const daniel = {name: 'Daniel', apellido: 'Sánchez'}
	const danielSaluda = saludar.bind(daniel)
	danielSaluda()

	const danielCamina = caminar.bind(daniel, 2000)
	danielCamina('oeste')

	/*
	Bind -> crea una nueva función donde this va estar guardado pero luego tienes que guardar la función
	*/

	// Cuándo  es util usar uno de estos métodos
	const buttons = document.getElementsByClassName('call-to-action')
	/* No se ejecuta porque el contexto es un NodeList con lo cual no tiene el metodo forEach*/
	// buttons.forEach(button => {
	// 	button.onclick = () => alert('Nunca pares de aprender')
	// });

	Array.prototype.forEach.call(buttons, button => {
		button.onclick = () => alert('Nunca pares de aprender')
	})

</script>
</html>